{"version":3,"sources":["../src/index.js"],"names":["activate","markdownRenderer","remarkPlugins","push","marksPlugin","inkdrop","isMobile","deactivate","filter","plugin","originalAnchor","setMarksLink","remarkReactComponents","a","markLink"],"mappings":";AAAA;;;;;;;;AAEA;;AACA;;AACA;;AAEO,SAASA,QAAT,GAAoB;AACzB,MAAI,CAACC,yBAAL,EAAuB;AACrB;AACD;;AAEDA,4BAAiBC,aAAjB,CAA+BC,IAA/B,CAAoCC,mBAApC;;AAEA,MAAI,CAACC,OAAO,CAACC,QAAb,EAAuB,CACrB;AACD;AACF;;AAEM,SAASC,UAAT,GAAsB;AAC3B,MAAIN,yBAAJ,EAAsB;AACpBA,8BAAiBC,aAAjB,GAAiCD,0BAAiBC,aAAjB,CAA+BM,MAA/B,CAC/BC,MAAM,IAAIA,MAAM,KAAKL,mBADU,CAAjC;AAGD;AACF;;AAED,IAAIM,cAAc,GAAG,IAArB;;AAEA,SAASC,YAAT,GAAwB;AACtBD,EAAAA,cAAc,GAAGT,0BAAiBW,qBAAjB,CAAuCC,CAAxD;AACA,QAAMC,QAAQ,GAAG,8BAAiBJ,cAAjB,CAAjB;AACAT,4BAAiBW,qBAAjB,CAAuCC,CAAvC,GAA2CC,QAA3C;AACD","sourcesContent":["'use babel'\n\nimport { markdownRenderer } from 'inkdrop'\nimport { marksPlugin } from './plugin'\nimport { createMarkAnchor } from './anchor'\n\nexport function activate() {\n  if (!markdownRenderer) {\n    return\n  }\n\n  markdownRenderer.remarkPlugins.push(marksPlugin)\n\n  if (!inkdrop.isMobile) {\n    // setMarksLink()\n  }\n}\n\nexport function deactivate() {\n  if (markdownRenderer) {\n    markdownRenderer.remarkPlugins = markdownRenderer.remarkPlugins.filter(\n      plugin => plugin !== marksPlugin\n    )\n  }\n}\n\nlet originalAnchor = null\n\nfunction setMarksLink() {\n  originalAnchor = markdownRenderer.remarkReactComponents.a\n  const markLink = createMarkAnchor(originalAnchor)\n  markdownRenderer.remarkReactComponents.a = markLink\n}\n"],"file":"index.js"}